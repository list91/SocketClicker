# SocketClicker Chrome Extension

## Описание проекта
SocketClicker - это расширение для Chrome, предназначенное для удаленного выполнения команд через локальный сервер. Расширение поддерживает различные типы команд, включая публикацию контента, навигацию и взаимодействие с элементами веб-страниц.

## Особенности
- Периодическая проверка очереди команд
- Получение и выполнение команд с локального сервера
- Логирование и обработка команд
- Поддержка различных типов команд
- Управление состоянием расширения (включение/выключение)
- Эмуляция пользовательских действий

## Структура проекта
```
src/
├── background/        # Фоновые процессы
│   ├── background.ts  # Основной фоновый скрипт
│   └── queueChecker.ts# Проверка очереди команд
├── content/           # Скрипты контента
│   └── content.ts     # Взаимодействие со страницей
├── core/             # Основная логика
│   ├── commandExecutor.ts # Исполнитель команд
│   └── common.ts     # Общие утилиты
├── ui/               # Пользовательский интерфейс
│   ├── popup.html    # HTML попапа
│   └── popup.ts      # Логика попапа
└── manifest.json     # Конфигурация расширения
```

## Технологии
- TypeScript
- Chrome Extension API
- Webpack
- Manifest V3

## Установка
1. Клонируйте репозиторий
2. Установите зависимости:
   ```bash
   npm install
   ```

## Сборка расширения
- Разработка (с автоматической пересборкой):
  ```bash
  npm run start
  ```
- Продакшн:
  ```bash
  npm run build
  ```

## Конфигурация
- URL сервера настраивается в `src/background/queueChecker.ts`
- Эндпоинты:
  - `/read_first?count=1`: Получение команд
  - `/move_to_history`: Перемещение команд в историю

## Поддерживаемые команды
- `ping`: Проверка связи
- `echo {message}`: Вывод сообщения в консоль
- `click {selector}`: Клик по элементу
- `input {selector} {text}`: Ввод текста
- `scroll {direction} {amount}`: Прокрутка страницы
- `wait {ms}`: Ожидание
- `publication {text}`: Публикация контента

## Разработка
1. Весь код разделен по функциональным директориям
2. Используйте соответствующие директории для нового кода:
   - `background/`: для фоновых процессов
   - `content/`: для скриптов, работающих со страницей
   - `core/`: для основной бизнес-логики
   - `ui/`: для компонентов интерфейса
3. Для добавления новых команд:
   - Добавьте тип команды в `CommandType`
   - Создайте обработчик в `CommandExecutor`
   - При необходимости добавьте селекторы в `xpathSelectors.ts`

## Лицензия
MIT License

## Контрибуция
1. Форкните репозиторий
2. Создайте feature-ветку
3. Внесите изменения
4. Создайте Pull Request
